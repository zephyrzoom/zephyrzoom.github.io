---
layout: post
title: C++
date: 2016-08-11 16:34:00 +0800
---

### 开始

IO操作时，输入和输出数据会保存在缓冲区中，可以显示刷新缓冲区，读取`cin`会刷新c`out`，程序异常终止也会刷新`cout`。
`endl`可以结束当前行，并将缓冲区内容刷新到设备中。

```c++
while(std::cin >> value)
```
循环执行过程中，不断检测流的状态，遇到错误或者文件结束符才会结束，Linux中的文件结束符是Ctrl+D。

### 变量和基本类型

类型         | 最小宽度
------------|-----------
bool        | 未定义
char        | 8位
wchar_t     | 16位
char16_t    | 16位
char32_t    | 32位
short       | 16位
int         | 16位
long        | 32位
long long   | 64位
float       | 6位有效数字
double      | 10位有效数字
long double | 10位有效数字

`char16_t`和`char32_t`用于Unicode字符集，`wchar_t`可以存放最大的扩展字符集。

类型的选择规则：

- 知道非负，使用无符号类型
- 整数运算用`int`，`short`太短，`long`一般和`int`一样
- 算数表达式不要用`bool`和`char`
- 浮点运算用`duoble`，比`float`精度高速度快

```c++
unsigned char c = -1;
```
`c`的范围是0～255，给他赋了这个范围外的值时，实际值为对256取mod，即`-1 % 256`=255。

无符号数与有符号数相加时，有符号数会转换成无符号数，严禁混用。

八进制数以`0`开头。

数字`-42`的字面值是不包括`-`的，也就是说十进制数字面值不会为负。字面值的类型是可以指定的：

```c++
L'a'    // wchar_t类型
u8"hi!" // utf-8字符串
42ULL   // unsigned lon long类型
1E-3F   // float类型
3.14159L    // long double类型
```
字面值在选择所占空间时，尽量找最小的，存不下再找大的，如后缀有`U`，会在`unsigned int`、`unsigned long`、
`unsigned long long`中选择最小的。

字符串太长可以这样分开书写：

```c++
std::cout << "a"
             "b"
             "c";
```

`nullptr`是指针字面值。
